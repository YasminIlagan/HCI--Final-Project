<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luna - Luna Journal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Luna Journal Screen -->
    <div class="screen active" id="journal-screen">
        <div class="phone-frame">
            <div class="phone-notch"></div>
            <div class="content tracker-content">
                <!-- Header -->
                <div class="tracker-header">
                    <button class="back-btn-header" onclick="navigateTo('home-screen')">‚Üê</button>
                    <div class="moon-icon tiny-center">
                        <img src="assets/moon-logo.png" alt="Luna Logo" class="moon-logo-img">
                    </div>
                    <button class="settings-btn" onclick="navigateTo('settings-screen')">‚öôÔ∏è</button>
                </div>

                <div class="header-label-center">LUNA JOURNAL</div>

                <!-- Journal Notepad -->
                <div class="journal-notepad">
                    <div class="notepad-rings">
                        <div class="ring"></div>
                        <div class="ring"></div>
                        <div class="ring"></div>
                        <div class="ring"></div>
                    </div>
                    <textarea class="journal-textarea" placeholder="Write your thoughts here..."></textarea>
                    <div class="journal-heart">üíó</div>
                </div>

                <!-- Journal Actions -->
                <div class="journal-actions">
                    <button class="journal-btn save" onclick="saveNote()">
                        <span class="journal-icon">üîñ</span> SAVE NOTE
                    </button>
                    <button class="journal-btn view" onclick="alert('View Entries')">
                        <span class="journal-icon">üìã</span> VIEW ENTRIES
                    </button>
                </div>

                <!-- Add New Note Button -->
                <button class="add-new-note" onclick="clearJournal()">
                    <span class="plus-icon-circle">‚ûï</span> ADD NEW NOTE
                </button>

                <!-- Bottom Navigation -->
                <div class="bottom-nav">
                    <button class="nav-btn" onclick="navigateTo('home-screen')">üè†</button>
                    <button class="nav-btn" onclick="navigateTo('notification-screen')">üîî</button>
                    <button class="nav-btn" onclick="navigateTo('ask-luna-screen')">üí¨</button>
                    <button class="nav-btn" onclick="navigateTo('insight-screen')">üìä</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/navigation.js"></script>
    <script>
        // Embedded showMessage function
        function showMessage(type, message) {
            const existingMessage = document.querySelector('.success-message-box');
            if (existingMessage) {
                existingMessage.remove();
            }

            const messageBox = document.createElement('div');
            messageBox.className = 'success-message-box ' + type;
            messageBox.innerHTML = '<div class="message-content"><span class="message-text">' + message + '</span><span class="message-icon">‚úì</span></div>';
            document.body.appendChild(messageBox);

            setTimeout(function() {
                messageBox.classList.add('show');
            }, 10);

            setTimeout(function() {
                messageBox.classList.remove('show');
                setTimeout(function() {
                    messageBox.remove();
                }, 500);
            }, 5000);
        }
        
        function saveNote() {
            const textarea = document.querySelector('.journal-textarea');
            if (textarea.value.trim() === '') {
                showMessage('error', 'Please write something first!');
                return;
            }
            showMessage('success', 'Journal entry saved!');
            // Save to localStorage
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            entries.push({
                date: new Date().toLocaleDateString(),
                content: textarea.value
            });
            localStorage.setItem('journalEntries', JSON.stringify(entries));
        }
        
        function clearJournal() {
            document.querySelector('.journal-textarea').value = '';
            showMessage('info', 'Ready for new entry!');
        }
        
        // Update View Entries button
        document.querySelector('.journal-btn.view').onclick = function() {
            const entries = JSON.parse(localStorage.getItem('journalEntries') || '[]');
            if (entries.length === 0) {
                showMessage('info', 'No journal entries yet!');
            } else {
                showMessage('info', `You have ${entries.length} journal entries`);
            }
        };
    </script>
</body>
</html>
