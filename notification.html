<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luna - Notification</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Notification Screen -->
    <div class="screen active" id="notification-screen">
        <div class="phone-frame">
            <div class="phone-notch"></div>
            <div class="content tracker-content">
                <!-- Header -->
                <div class="notification-header">
                    <div class="moon-icon tiny-left-notif">
                        <img src="assets/moon-logo.png" alt="Luna Logo" class="moon-logo-img">
                    </div>
                    <div class="header-label-center">NOTIFICATION</div>
                    <button class="settings-btn" onclick="navigateTo('settings-screen')">‚öôÔ∏è</button>
                </div>

                <h2 class="notification-date">Today ‚Ä¢ Oct 16</h2>

                <!-- Notification Cards -->
                <div class="notification-list">
                    <div class="notification-card">
                        <div class="notif-icon period-notif">üíó</div>
                        <div class="notif-content">
                            <p class="notif-text">Your period may start in 3 daysü©∏</p>
                            <div class="notif-buttons">
                                <button class="notif-btn primary" onclick="navigateTo('period-tracker-screen')">View Calendar</button>
                                <button class="notif-btn secondary">Remind Me Later</button>
                            </div>
                        </div>
                    </div>

                    <div class="notification-card">
                        <div class="notif-icon sleep-notif">üí§</div>
                        <div class="notif-content">
                            <p class="notif-text">Luna says: Time rest- track sleep now</p>
                            <div class="notif-buttons">
                                <button class="notif-btn primary" onclick="navigateTo('sleep-tracker-screen')">View Tracker</button>
                                <button class="notif-btn secondary">Remind Me Later</button>
                            </div>
                        </div>
                    </div>

                    <div class="notification-card">
                        <div class="notif-icon water-notif">üíß</div>
                        <div class="notif-content">
                            <p class="notif-text">Don't forget to drink water. Stay hydrated</p>
                            <div class="notif-buttons">
                                <button class="notif-btn primary">View Tracker</button>
                                <button class="notif-btn secondary">Remind Me Later</button>
                            </div>
                        </div>
                    </div>

                    <div class="notification-card">
                        <div class="notif-icon wellness-notif">üßò‚Äç‚ôÄÔ∏è</div>
                        <div class="notif-content">
                            <p class="notif-text">Wellness tip: Try light yoga to ease cramps</p>
                            <div class="notif-buttons">
                                <button class="notif-btn primary" onclick="navigateTo('wellness-tips-screen')">View Tracker</button>
                                <button class="notif-btn secondary">Remind Me Later</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add Reminders Button -->
                <button class="add-reminders" onclick="addReminder()">
                    <span class="bell-icon">üîî‚ûï</span> ADD REMINDERS
                </button>

                <!-- Add Reminder Modal (Hidden) -->
                <div id="reminderModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; display: flex; align-items: center; justify-content: center;">
                    <div style="background: white; padding: 2rem; border-radius: 20px; max-width: 350px; width: 90%;">
                        <h3 style="color: #6B5B8C; margin-bottom: 1rem;">Add Custom Reminder</h3>
                        <form id="reminderForm" onsubmit="saveReminder(event)">
                            <input type="text" id="reminderTitle" placeholder="Reminder Title" required style="width: 100%; padding: 12px; border: 2px solid #B5A5D5; border-radius: 10px; margin-bottom: 10px; font-size: 1rem;">
                            <input type="text" id="reminderEmoji" placeholder="Emoji (e.g., üíä)" maxlength="2" style="width: 100%; padding: 12px; border: 2px solid #B5A5D5; border-radius: 10px; margin-bottom: 15px; font-size: 1rem;">
                            <div style="display: flex; gap: 10px;">
                                <button type="submit" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #8B7BA8, #B5A5D5); color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">Add</button>
                                <button type="button" onclick="closeReminderModal()" style="flex: 1; padding: 12px; background: #E0E0E0; color: #666; border: none; border-radius: 10px; font-weight: bold; cursor: pointer;">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Bottom Navigation -->
                <div class="bottom-nav">
                    <button class="nav-btn" onclick="navigateTo('home-screen')">üè†</button>
                    <button class="nav-btn active" onclick="navigateTo('notification-screen')">üîî</button>
                    <button class="nav-btn" onclick="navigateTo('ask-luna-screen')">üí¨</button>
                    <button class="nav-btn" onclick="navigateTo('insight-screen')">üìä</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/navigation.js"></script>
    <script>
        // Embedded showMessage function
        function showMessage(type, message) {
            const existingMessage = document.querySelector('.success-message-box');
            if (existingMessage) {
                existingMessage.remove();
            }

            const messageBox = document.createElement('div');
            messageBox.className = 'success-message-box ' + type;
            messageBox.innerHTML = '<div class="message-content"><span class="message-text">' + message + '</span><span class="message-icon">‚úì</span></div>';
            document.body.appendChild(messageBox);

            setTimeout(function() {
                messageBox.classList.add('show');
            }, 10);

            setTimeout(function() {
                messageBox.classList.remove('show');
                setTimeout(function() {
                    messageBox.remove();
                }, 500);
            }, 5000);
        }
        
        function addReminder() {
            const modal = document.getElementById('reminderModal');
            modal.style.display = 'flex';
        }

        function closeReminderModal() {
            const modal = document.getElementById('reminderModal');
            modal.style.display = 'none';
            document.getElementById('reminderForm').reset();
        }

        function saveReminder(event) {
            event.preventDefault();
            const title = document.getElementById('reminderTitle').value;
            const emoji = document.getElementById('reminderEmoji').value || 'üîî';
            
            // Create new notification card
            const notificationList = document.querySelector('.notification-list');
            const newCard = document.createElement('div');
            newCard.className = 'notification-card';
            newCard.innerHTML = `
                <div class="notif-icon" style="background: linear-gradient(135deg, #8B7BA8, #B5A5D5);">${emoji}</div>
                <div class="notif-content">
                    <p class="notif-text">${title}</p>
                    <div class="notif-buttons">
                        <button class="notif-btn secondary" onclick="this.closest('.notification-card').remove(); showMessage('info', 'Reminder dismissed');">Dismiss</button>
                    </div>
                </div>
            `;
            notificationList.appendChild(newCard);
            
            closeReminderModal();
            showMessage('success', 'Reminder added successfully!');
        }

        // Dismiss notification
        document.querySelectorAll('.notif-btn.secondary').forEach(btn => {
            if (btn.textContent.trim() === 'Remind Me Later') {
                btn.addEventListener('click', function() {
                    showMessage('info', 'Reminder snoozed for 1 hour');
                });
            }
        });
    </script>
</body>
</html>
